<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My AI Evolution</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.12.0/dist/tf.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Orbitron', sans-serif;
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      color: #fff;
      text-align: center;
    }

    h1 {
      margin-top: 20px;
      color: #00ffd5;
      font-size: 2em;
    }

    canvas {
      margin: 20px auto;
      display: block;
      background: #000;
      border-radius: 12px;
      box-shadow: 0 0 20px #00ffd5;
    }

    #upgrade-panel {
      margin: 20px auto;
      max-width: 400px;
      padding: 20px;
      background: rgba(0, 255, 150, 0.1);
      border: 1px solid #00ffcc;
      border-radius: 12px;
    }

    .xp-info {
      font-size: 1.2em;
      margin-bottom: 10px;
    }

    #upgrade-btn {
      background: linear-gradient(to right, #00c6ff, #0072ff);
      border: none;
      padding: 10px 30px;
      font-size: 1em;
      border-radius: 20px;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }

    #upgrade-btn:hover {
      box-shadow: 0 0 10px #00ffb3;
      transform: scale(1.05);
    }

    #functionalities {
      margin-top: 30px;
      text-align: left;
      padding: 0 20px;
    }

    #functionalities ul {
      list-style: none;
      padding: 0;
    }

    #functionalities li::before {
      content: "âœ“ ";
      color: #00ffd5;
    }

    .glow {
      box-shadow: 0 0 40px #00ffcc;
      transition: box-shadow 0.5s ease-in-out;
    }
  </style>
</head>
<body>
  <h1>AI Evolution Chamber</h1>
  <canvas id="brainCanvas" width="400" height="400"></canvas>

  <div id="upgrade-panel">
    <div class="xp-info">Current XP: <span id="currentXP">1200</span></div>
    <div class="xp-info">XP Required for Level <span id="nextLevel">2</span>: <span id="xpRequired">1000</span></div>
    <button id="upgrade-btn">Upgrade Brain</button>
  </div>

  <div id="functionalities" style="display:none;">
    <h2>Unlocked Functionalities</h2>
    <ul id="functionList">
      <!-- Filled dynamically -->
    </ul>
  </div>

  <script>
    const canvas = document.getElementById("brainCanvas");
    const ctx = canvas.getContext("2d");

    let currentXP = 1200;
    let level = 1;
    const upgradeThresholds = {
      2: { xp: 1000, features: ["Basic Problem Solving", "Hint Generator"] },
      3: { xp: 2000, features: ["Concept Visualizer", "Voice Assistant"] },
      4: { xp: 3000, features: ["Subject Recommendation Engine", "Multiplayer AI Combat"] },
      5: { xp: 5000, features: ["Self-Learning AI", "Quantum Simulation Model"] }
    };

    function drawBrainMorph(t) {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.beginPath();
      const centerX = 200, centerY = 200, radius = 100;
      for (let i = 0; i <= 360; i++) {
        const angle = i * Math.PI / 180;
        const r = radius + Math.sin(i * 0.3 + t) * 10;
        const x = centerX + r * Math.cos(angle);
        const y = centerY + r * Math.sin(angle);
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.closePath();
      ctx.fillStyle = "#00ffcc";
      ctx.fill();
    }

    let t = 0;
    function animate() {
      drawBrainMorph(t);
      t += 0.05;
      requestAnimationFrame(animate);
    }

    animate();

    document.getElementById("upgrade-btn").addEventListener("click", () => {
      const nextLvl = level + 1;
      const req = upgradeThresholds[nextLvl];
      if (req && currentXP >= req.xp) {
        level++;
        document.getElementById("nextLevel").innerText = level + 1;
        document.getElementById("xpRequired").innerText = upgradeThresholds[level + 1]?.xp || "MAX";
        currentXP -= req.xp;
        document.getElementById("currentXP").innerText = currentXP;

        document.getElementById("brainCanvas").classList.add("glow");
        setTimeout(() => {
          document.getElementById("brainCanvas").classList.remove("glow");
        }, 1000);

        const ul = document.getElementById("functionList");
        req.features.forEach(f => {
          const li = document.createElement("li");
          li.innerText = f;
          ul.appendChild(li);
        });

        document.getElementById("functionalities").style.display = "block";
      } else {
        alert("Not enough XP or maximum level reached!");
      }
    });
  </script>
</body>
</html>
